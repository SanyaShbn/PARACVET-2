---
import type { GetStaticPaths } from "astro";
import { locales } from "../utils/i18n.config";

import { ViewTransitions } from "astro:transitions";
import Logo from "../components/ui/Logo.astro";

export const getStaticPaths = (() => {
  return locales.map((locale) => {
    return { params: { locale } };
  });
}) satisfies GetStaticPaths;

const locale = Astro.currentLocale;

interface Props {
  title: string;
}

const { title } = Astro.props;
---

<html lang={locale}>
  <head>
    <meta charset="utf-8" />
    <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
    <meta name="viewport" content="width=device-width" />
    <title>{title}</title>

    <ViewTransitions />
  </head>
  <body class="bg-white">
    <!-- Preloader -->
    <div
      id="preloader"
      class="loader-wrapper absolute"
    >
      <Logo />
    </div>

    <div id="main-container">
      <main class="grid grid-flow-row auto-rows-max grid-cols-10 gap-x-[6px]">
        <slot />
      </main>
    </div>

    <script src="../scripts/locomotive-scroll.js"></script>
    <script src="../scripts/preloader.js"></script>
    <style is:global>
      /* srolbar styling */
      body::-webkit-scrollbar {
        width: 0.3em;
      }
      body::-webkit-scrollbar {
        background-color: rgba(0, 0, 0, 0.1);
      }

      body::-webkit-scrollbar-track {
        box-shadow: inset 0 0 0px rgba(0, 0, 0, 0.1);
      }

      body::-webkit-scrollbar-thumb {
        background-color: rgba(3, 3, 3, 0.7);
        outline: none;
        height: 5em;
      }

      /* preloader styling */
      .absolute {
        position: fixed;
        top: 0;
        left: 0;
        bottom: 0;
        right: 0;
        background-color: black;
        z-index: 1;
      }

      .loader-wrapper {
        display: flex;
        align-items: center;
        justify-content: center;
        flex-direction: column;
        transition: "all 0.25s ease-in-out";
        background-color: #dbd8d6;
        color: #dbd8d6;
      }
    </style>
  </body>
</html>
